var artifacts=[{name:"Ring_of_Life",hp:1},{name:"Ring_of_Vitality",hp:1},{name:"Vial_of_Lifeblood",hp:2}],data={Cove:[{name:"Nymph",hp:"4",img:"img/creature_icons/new/Nymph.jpg"},{name:"Oceanid",hp:"4",img:"img/creature_icons/new/Oceanid.jpg"},{name:"Crew Mate",hp:"15",img:"img/creature_icons/new/Crew_Mate.jpg"},{name:"Seaman",hp:"15",img:"img/creature_icons/new/Seaman.jpg"},{name:"Pirate",hp:"15",img:"img/creature_icons/new/Pirate.jpg"},{name:"Corsair",hp:"15",img:"img/creature_icons/new/Corsair.jpg"},{name:"Sea Dog",hp:"15",img:"img/creature_icons/new/Sea_Dog.jpg"},{name:"Stormbird",hp:"30",img:"img/creature_icons/new/Stormbird.jpg"},{name:"Ayssid",hp:"30",img:"img/creature_icons/new/Ayssid.jpg"},{name:"Sea Witch",hp:"35",img:"img/creature_icons/new/Sea_Witch.jpg"},{name:"Sorceress",hp:"35",img:"img/creature_icons/new/Sorceress.jpg"},{name:"Nix",hp:"80",img:"img/creature_icons/new/Nix.jpg"},{name:"Nix Warrior",hp:"90",img:"img/creature_icons/new/Nix_Warrior.jpg"},{name:"Sea Serpent",hp:"180",img:"img/creature_icons/new/Sea_Serpent.jpg"},{name:"Haspid",hp:"300",img:"img/creature_icons/new/Haspid.jpg"}],Castle:[{name:"Pikeman",hp:"10",img:"img/creature_icons/new/Pikeman.jpg"},{name:"Halberdier",hp:"10",img:"img/creature_icons/new/Halberdier.jpg"},{name:"Archer",hp:"10",img:"img/creature_icons/new/Archer.jpg"},{name:"Marksman",hp:"10",img:"img/creature_icons/new/Marksman.jpg"},{name:"Griffin",hp:"25",img:"img/creature_icons/new/Griffin.jpg"},{name:"Royal Griffin",hp:"25",img:"img/creature_icons/new/Royal_Griffin.jpg"},{name:"Swordsman",hp:"35",img:"img/creature_icons/new/Swordsman.jpg"},{name:"Crusader",hp:"35",img:"img/creature_icons/new/Crusader.jpg"},{name:"Monk",hp:"30",img:"img/creature_icons/new/Monk.jpg"},{name:"Zealot",hp:"30",img:"img/creature_icons/new/Zealot.jpg"},{name:"Cavalier",hp:"100",img:"img/creature_icons/new/Cavalier.jpg"},{name:"Champion",hp:"100",img:"img/creature_icons/new/Champion.jpg"},{name:"Angel",hp:"200",img:"img/creature_icons/new/Angel.jpg"},{name:"Archangel",hp:"250",img:"img/creature_icons/new/Archangel.jpg"}],Rampart:[{name:"Centaur",hp:"8",img:"img/creature_icons/new/Centaur.jpg"},{name:"Centaur Captain",hp:"10",img:"img/creature_icons/new/Centaur_Captain.jpg"},{name:"Dwarf",hp:"20",img:"img/creature_icons/new/Dwarf.jpg"},{name:"Battle Dwarf",hp:"20",img:"img/creature_icons/new/Battle_Dwarf.jpg"},{name:"Wood Elf",hp:"15",img:"img/creature_icons/new/Wood_Elf.jpg"},{name:"Grand Elf",hp:"15",img:"img/creature_icons/new/Grand_Elf.jpg"},{name:"Pegasus",hp:"30",img:"img/creature_icons/new/Pegasus.jpg"},{name:"Silver Pegasus",hp:"30",img:"img/creature_icons/new/Silver_Pegasus.jpg"},{name:"Dendroid Guard",hp:"55",img:"img/creature_icons/new/Dendroid_Guard.jpg"},{name:"Dendroid Soldier",hp:"65",img:"img/creature_icons/new/Dendroid_Soldier.jpg"},{name:"Unicorn",hp:"90",img:"img/creature_icons/new/Unicorn.jpg"},{name:"War Unicorn",hp:"110",img:"img/creature_icons/new/War_Unicorn.jpg"},{name:"Green Dragon",hp:"180",img:"img/creature_icons/new/Green_Dragon.jpg"},{name:"Gold Dragon",hp:"250",img:"img/creature_icons/new/Gold_Dragon.jpg"}],Tower:[{name:"Gremlin",hp:"4",img:"img/creature_icons/new/Gremlin.jpg"},{name:"Master Gremlin",hp:"4",img:"img/creature_icons/new/Master_Gremlin.jpg"},{name:"Stone Gargoyle",hp:"16",img:"img/creature_icons/new/Stone_Gargoyle.jpg"},{name:"Obsidian Gargoyle",hp:"16",img:"img/creature_icons/new/Obsidian_Gargoyle.jpg"},{name:"Stone Golem",hp:"30",img:"img/creature_icons/new/Stone_Golem.jpg"},{name:"Iron Golem",hp:"35",img:"img/creature_icons/new/Iron_Golem.jpg"},{name:"Mage",hp:"25",img:"img/creature_icons/new/Mage.jpg"},{name:"Arch Mage",hp:"30",img:"img/creature_icons/new/Arch_Mage.jpg"},{name:"Genie",hp:"40",img:"img/creature_icons/new/Genie.jpg"},{name:"Master Genie",hp:"40",img:"img/creature_icons/new/Master_Genie.jpg"},{name:"Naga",hp:"110",img:"img/creature_icons/new/Naga.jpg"},{name:"Naga Queen",hp:"110",img:"img/creature_icons/new/Naga_Queen.jpg"},{name:"Giant",hp:"150",img:"img/creature_icons/new/Giant.jpg"},{name:"Titan",hp:"300",img:"img/creature_icons/new/Titan.jpg"}],Inferno:[{name:"Imp",hp:"4",img:"img/creature_icons/new/Imp.jpg"},{name:"Familiar",hp:"4",img:"img/creature_icons/new/Familiar.jpg"},{name:"Gog",hp:"13",img:"img/creature_icons/new/Gog.jpg"},{name:"Magog",hp:"13",img:"img/creature_icons/new/Magog.jpg"},{name:"Hell Hound",hp:"25",img:"img/creature_icons/new/Hell_Hound.jpg"},{name:"Cerberus",hp:"25",img:"img/creature_icons/new/Cerberus.jpg"},{name:"Demon",hp:"35",img:"img/creature_icons/new/Demon.jpg"},{name:"Horned Demon",hp:"40",img:"img/creature_icons/new/Horned_Demon.jpg"},{name:"Pit Fiend",hp:"45",img:"img/creature_icons/new/Pit_Fiend.jpg"},{name:"Pit Lord",hp:"45",img:"img/creature_icons/new/Pit_Lord.jpg"},{name:"Efreet",hp:"90",img:"img/creature_icons/new/Efreet.jpg"},{name:"Efreet Sultan",hp:"90",img:"img/creature_icons/new/Efreet_Sultan.jpg"},{name:"Devil",hp:"160",img:"img/creature_icons/new/Devil.jpg"},{name:"Arch Devil",hp:"200",img:"img/creature_icons/new/Arch_Devil.jpg"}],Necropolis:[{name:"Skeleton",hp:"6",img:"img/creature_icons/new/Skeleton.jpg"},{name:"Skeleton Warrior",hp:"6",img:"img/creature_icons/new/Skeleton_Warrior.jpg"},{name:"Walking Dead",hp:"15",img:"img/creature_icons/new/Walking_Dead.jpg"},{name:"Zombie",hp:"20",img:"img/creature_icons/new/Zombie.jpg"},{name:"Wight",hp:"18",img:"img/creature_icons/new/Wight.jpg"},{name:"Wraith",hp:"18",img:"img/creature_icons/new/Wraith.jpg"},{name:"Vampire",hp:"30",img:"img/creature_icons/new/Vampire.jpg"},{name:"Vampire Lord",hp:"40",img:"img/creature_icons/new/Vampire_Lord.jpg"},{name:"Lich",hp:"30",img:"img/creature_icons/new/Lich.jpg"},{name:"Power Lich",hp:"40",img:"img/creature_icons/new/Power_Lich.jpg"},{name:"Black Knight",hp:"120",img:"img/creature_icons/new/Black_Knight.jpg"},{name:"Dread Knight",hp:"120",img:"img/creature_icons/new/Dread_Knight.jpg"},{name:"Bone Dragon",hp:"150",img:"img/creature_icons/new/Bone_Dragon.jpg"},{name:"Ghost Dragon",hp:"200",img:"img/creature_icons/new/Ghost_Dragon.jpg"}],Dungeon:[{name:"Troglodyte",hp:"5",img:"img/creature_icons/new/Troglodyte.jpg"},{name:"Infernal Troglodyte",hp:"6",img:"img/creature_icons/new/Infernal_Troglodyte.jpg"},{name:"Harpy",hp:"14",img:"img/creature_icons/new/Harpy.jpg"},{name:"Harpy Hag",hp:"14",img:"img/creature_icons/new/Harpy_Hag.jpg"},{name:"Beholder",hp:"22",img:"img/creature_icons/new/Beholder.jpg"},{name:"Evil Eye",hp:"22",img:"img/creature_icons/new/Evil_Eye.jpg"},{name:"Medusa",hp:"25",img:"img/creature_icons/new/Medusa.jpg"},{name:"Medusa Queen",hp:"30",img:"img/creature_icons/new/Medusa_Queen.jpg"},{name:"Minotaur",hp:"50",img:"img/creature_icons/new/Minotaur.jpg"},{name:"Minotaur King",hp:"50",img:"img/creature_icons/new/Minotaur_King.jpg"},{name:"Manticore",hp:"80",img:"img/creature_icons/new/Manticore.jpg"},{name:"Scorpicore",hp:"80",img:"img/creature_icons/new/Scorpicore.jpg"},{name:"Red Dragon",hp:"180",img:"img/creature_icons/new/Red_Dragon.jpg"},{name:"Black Dragon",hp:"300",img:"img/creature_icons/new/Black_Dragon.jpg"}],Stronghold:[{name:"Goblin",hp:"5",img:"img/creature_icons/new/Goblin.jpg"},{name:"Hobgoblin",hp:"5",img:"img/creature_icons/new/Hobgoblin.jpg"},{name:"Wolf Rider",hp:"10",img:"img/creature_icons/new/Wolf_Rider.jpg"},{name:"Wolf Raider",hp:"10",img:"img/creature_icons/new/Wolf_Raider.jpg"},{name:"Orc",hp:"15",img:"img/creature_icons/new/Orc.jpg"},{name:"Orc Chieftain",hp:"20",img:"img/creature_icons/new/Orc_Chieftain.jpg"},{name:"Ogre",hp:"40",img:"img/creature_icons/new/Ogre.jpg"},{name:"Ogre Mage",hp:"60",img:"img/creature_icons/new/Ogre_Mage.jpg"},{name:"Roc",hp:"60",img:"img/creature_icons/new/Roc.jpg"},{name:"Thunderbird",hp:"60",img:"img/creature_icons/new/Thunderbird.jpg"},{name:"Cyclops",hp:"70",img:"img/creature_icons/new/Cyclops.jpg"},{name:"Cyclops King",hp:"70",img:"img/creature_icons/new/Cyclops_King.jpg"},{name:"Behemoth",hp:"160",img:"img/creature_icons/new/Behemoth.jpg"},{name:"Ancient Behemoth",hp:"300",img:"img/creature_icons/new/Ancient_Behemoth.jpg"}],Fortress:[{name:"Gnoll",hp:"6",img:"img/creature_icons/new/Gnoll.jpg"},{name:"Gnoll Marauder",hp:"6",img:"img/creature_icons/new/Gnoll_Marauder.jpg"},{name:"Lizardman",hp:"14",img:"img/creature_icons/new/Lizardman.jpg"},{name:"Lizard Warrior",hp:"15",img:"img/creature_icons/new/Lizard_Warrior.jpg"},{name:"Serpent Fly",hp:"20",img:"img/creature_icons/new/Serpent_Fly.jpg"},{name:"Dragon Fly",hp:"20",img:"img/creature_icons/new/Dragon_Fly.jpg"},{name:"Basilisk",hp:"35",img:"img/creature_icons/new/Basilisk.jpg"},{name:"Greater Basilisk",hp:"40",img:"img/creature_icons/new/Greater_Basilisk.jpg"},{name:"Gorgon",hp:"70",img:"img/creature_icons/new/Gorgon.jpg"},{name:"Mighty Gorgon",hp:"70",img:"img/creature_icons/new/Mighty_Gorgon.jpg"},{name:"Wyvern",hp:"70",img:"img/creature_icons/new/Wyvern.jpg"},{name:"Wyvern Monarch",hp:"70",img:"img/creature_icons/new/Wyvern_Monarch.jpg"},{name:"Hydra",hp:"175",img:"img/creature_icons/new/Hydra.jpg"},{name:"Chaos Hydra",hp:"250",img:"img/creature_icons/new/Chaos_Hydra.jpg"}],Conflux:[{name:"Pixie",hp:"3",img:"img/creature_icons/new/Pixie.jpg"},{name:"Sprite",hp:"3",img:"img/creature_icons/new/Sprite.jpg"},{name:"Air Elemental",hp:"25",img:"img/creature_icons/new/Air_Elemental.jpg"},{name:"Storm Elemental",hp:"25",img:"img/creature_icons/new/Storm_Elemental.jpg"},{name:"Water Elemental",hp:"30",img:"img/creature_icons/new/Water_Elemental.jpg"},{name:"Ice Elemental",hp:"30",img:"img/creature_icons/new/Ice_Elemental.jpg"},{name:"Fire Elemental",hp:"35",img:"img/creature_icons/new/Fire_Elemental.jpg"},{name:"Energy Elemental",hp:"35",img:"img/creature_icons/new/Energy_Elemental.jpg"},{name:"Earth Elemental",hp:"40",img:"img/creature_icons/new/Earth_Elemental.jpg"},{name:"Magma Elemental",hp:"40",img:"img/creature_icons/new/Magma_Elemental.jpg"},{name:"Psychic Elemental",hp:"75",img:"img/creature_icons/new/Psychic_Elemental.jpg"},{name:"Magic Elemental",hp:"80",img:"img/creature_icons/new/Magic_Elemental.jpg"},{name:"Firebird",hp:"150",img:"img/creature_icons/new/Firebird.jpg"},{name:"Phoenix",hp:"200",img:"img/creature_icons/new/Phoenix.jpg"}],Neutral:[{name:"Peasant",hp:"1",img:"img/creature_icons/new/Peasant.jpg"},{name:"Halfling",hp:"4",img:"img/creature_icons/new/Halfling.jpg"},{name:"Boar",hp:"15",img:"img/creature_icons/new/Boar.jpg"},{name:"Rogue",hp:"10",img:"img/creature_icons/new/Rogue.jpg"},{name:"Leprechaun",hp:"15",img:"img/creature_icons/new/Leprechaun.jpg"},{name:"Mummy",hp:"30",img:"img/creature_icons/new/Mummy.jpg"},{name:"Nomad",hp:"30",img:"img/creature_icons/new/Nomad.jpg"},{name:"Sharpshooter",hp:"15",img:"img/creature_icons/new/Sharpshooter.jpg"},{name:"Satyr",hp:"35",img:"img/creature_icons/new/Satyr.jpg"},{name:"Troll",hp:"40",img:"img/creature_icons/new/Troll.jpg"},{name:"Gold Golem",hp:"50",img:"img/creature_icons/new/Gold_Golem.jpg"},{name:"Fangarm",hp:"50",img:"img/creature_icons/new/Fangarm.jpg"},{name:"Diamond Golem",hp:"60",img:"img/creature_icons/new/Diamond_Golem.jpg"},{name:"Enchanter",hp:"30",img:"img/creature_icons/new/Enchanter.jpg"},{name:"Faerie Dragon",hp:"500",img:"img/creature_icons/new/Faerie_Dragon.jpg"},{name:"Rust Dragon",hp:"750",img:"img/creature_icons/new/Rust_Dragon.jpg"},{name:"Crystal Dragon",hp:"800",img:"img/creature_icons/new/Crystal_Dragon.jpg"},{name:"Azure Dragon",hp:"1000",img:"img/creature_icons/new/Azure_Dragon.jpg"}]},DCalc={state:{health:4,demonsMax:1,bonus:[0,0,0,1],artifactSlots:[]},$:function(e){return document.querySelector(e)},create:function(e){return document.createElement(e)},createCalc:function(){var e=this.$,n=this.create,i=e(".left-side"),a=e(".center"),r=n("div");r.classList.add("select-btn","icon-lg"),r.style="background-image: url(img/creature_icons/new/Imp.jpg)";var g=n("input");g.setAttribute("type","number"),g.setAttribute("id","number_of_creatures"),g.value=0;var m=n("input");m.setAttribute("type","number"),m.setAttribute("id","number_of_pitlords"),m.value=0;var t=n("div");t.classList.add("icon-lg"),t.setAttribute("id","demons"),t.style="background-image: url(img/creature_icons/new/Demon.jpg)",t.innerHTML="0(0)";var c=n("div");c.classList.add("icon-lg"),c.setAttribute("id","pit_lords"),c.style="background-image: url(img/creature_icons/new/Pit_Lord.jpg)",i.appendChild(r),r.appendChild(g),i.appendChild(c),c.appendChild(m),a.appendChild(t)},createBackpack:function(){for(var e=this.$,n=this.create,i=e(".right-side"),a=this.state.artifactSlots,r=0;r<artifacts.length;r++){var g=artifacts[r].name,m=artifacts[r].hp;a[r]=n("div"),a[r].classList.add("unequipped","icon-lg"),a[r].setAttribute("id",g),a[r].setAttribute("data-hp",m),a[r].style="background-image: url(img/artifacts/"+g+".jpg)",i.appendChild(a[r])}},insertData:function(){var e=this.$,a=this.create;for(var n in data)if(data.hasOwnProperty(n)&&"Necropolis"!==n){var r=a("td");tbody=e("tbody"),tbody.appendChild(r),data[n].forEach(function(e){var n=a("tr");n.classList.add("option"),n.setAttribute("data-name",e.name),n.setAttribute("data-health",e.hp);var i=a("img");i.src=e.img,n.prepend(i),r.appendChild(n)})}},calculateDemons:function(){var e=this.state.health,n=this.state.bonus,i=this.$,a=i("#number_of_creatures");numPitLords=i("#number_of_pitlords"),demonsMax=Math.min(a.value,Math.floor(50*numPitLords.value/35)),bonusHealth=n[0]+n[1]+n[2],demons=i("#demons"),totalHealth=(e+bonusHealth)*n[3],demons.innerHTML=Math.floor(totalHealth*a.value/35)+"("+demonsMax+")"},stopPropagation:function(){(0,this.$)("#number_of_creatures").addEventListener("click",function(e){e.stopPropagation()})},listenInput:function(e){var n=(0,this.$)(e),i=this;n.addEventListener("input",function(e){e.target.value<0&&(e.target.value=0),i.calculateDemons()})},listenSelect:function(){var a=this.$,r=this,g=a("#select");function m(e){e.classList.toggle("hidden"),e.classList.toggle("revealed")}g.classList.add("hidden"),selectBtn=a(".select-btn"),selectBtn.addEventListener("click",function(e){m(g)}),g.addEventListener("click",function(e){for(var n=e.target,i=a("#number_of_creatures");n!=g;){if("TR"==n.tagName)return selectBtn.style="background-image:url("+n.firstChild.src+")",r.state.health=+n.getAttribute("data-health"),i.value=0,r.calculateDemons(),void m(g);n=n.parentNode}})},listenBackpack:function(){var r=this;function g(e){var n=function(e){return"background-image: url(img/artifacts/"+e+".jpg)"};r.state.bonus[3]="assemble"===e?(r.state.artifactSlots[0].style=n("Locked"),r.state.artifactSlots[1].style=n("Locked"),r.state.artifactSlots[2].style=n("Elixir_of_Life"),1.25):(r.state.artifactSlots[0].style=n("Ring_of_Life"),r.state.artifactSlots[1].style=n("Ring_of_Vitality"),r.state.artifactSlots[2].style=n("Vial_of_Lifeblood"),1),r.calculateDemons()}this.state.artifactSlots.forEach(function(i,a){i.addEventListener("click",function(){var e=+i.getAttribute("data-hp"),n=r.state.bonus;n[a]!==e?(i.classList.remove("unequipped"),n[a]=e):(i.classList.add("unequipped"),n[a]=0),n[0]&&n[1]&&n[2]?g("assemble"):g("disassemble"),console.log(n),r.calculateDemons()})})},init:function(){this.createCalc(),this.insertData(),this.createBackpack(),this.listenInput("#number_of_creatures"),this.listenInput("#number_of_pitlords"),this.stopPropagation(),this.listenSelect(),this.listenBackpack()}};DCalc.init();